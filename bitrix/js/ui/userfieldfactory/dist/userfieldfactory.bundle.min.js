this.BX=this.BX||{};(function(e,t,i){"use strict";var n=20;var s=Object.freeze({string:"string",enumeration:"enumeration",date:"date",datetime:"datetime",address:"address",url:"url",file:"file",money:"money",boolean:"boolean",double:"double",employee:"employee",crm:"crm",crmStatus:"crm_status"});var o=Object.freeze({string:{title:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_STRING_TITLE"),description:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_STRING_LEGEND"),defaultTitle:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_STRING_LABEL")},enumeration:{title:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_ENUM_TITLE"),description:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_ENUM_LEGEND"),defaultTitle:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_ENUMERATION_LABEL")},datetime:{title:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_DATETIME_TITLE"),description:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_DATETIME_LEGEND"),defaultTitle:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_DATETIME_LABEL")},address:{title:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_ADDRESS_TITLE"),description:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_ADDRESS_LEGEND")},url:{title:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_URL_TITLE"),description:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_URL_LEGEND")},file:{title:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_FILE_TITLE"),description:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_FILE_LEGEND"),defaultTitle:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_FILE_LABEL")},money:{title:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_MONEY_TITLE"),description:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_MONEY_LEGEND"),defaultTitle:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_MONEY_LABEL")},boolean:{title:i.Loc.getMessage("UI_USERFIELD_FACTORY_BOOLEAN_TITLE"),description:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_BOOLEAN_LEGEND")},double:{title:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_DOUBLE_TITLE"),description:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_DOUBLE_LEGEND"),defaultTitle:i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_DOUBLE_LABEL")}});var a=Object.freeze({MULTIPLE:"N",MANDATORY:"N",USER_TYPE_ID:s.string,SHOW_FILTER:"E",SHOW_IN_LIST:"Y",SETTINGS:{},IS_SHOW_ALWAYS:"Y"});var r=Object.freeze({file:{SHOW_FILTER:"N",SHOW_IN_LIST:"N"},employee:{SHOW_FILTER:"I"},crm:{SHOW_FILTER:"I"},crm_status:{SHOW_FILTER:"I"},enumeration:{SETTINGS:{DISPLAY:"UI"}},double:{SETTINGS:{PRECISION:2}}});function l(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-creation-menu-item" onclick="','">\n\t\t\t<div class="ui-userfieldfactory-creation-menu-item-title">','</div>\n\t\t\t<div class="ui-userfieldfactory-creation-menu-item-desc">',"</div>\n\t\t</div>"]);l=function t(){return e};return e}function u(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-creation-menu-list"></div>']);u=function t(){return e};return e}function c(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-creation-menu-scroll-bottom">',"</div>"]);c=function t(){return e};return e}function d(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-creation-menu-scroll-top">',"</div>"]);d=function t(){return e};return e}function h(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-creation-menu-container"></div>']);h=function t(){return e};return e}var f=function(){function e(t,n,s){babelHelpers.classCallCheck(this,e);this.id=t;this.items=n;this.params={};if(i.Type.isPlainObject(s)){this.params=s}}babelHelpers.createClass(e,[{key:"getId",value:function e(){if(!this.id){return"ui-user-field-factory-menu"}return this.id}},{key:"getPopup",value:function i(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!this.popup){var s=babelHelpers.objectSpread({},e.getDefaultPopupOptions(),this.params);s.events={onPopupShow:this.onPopupShow.bind(this),onPopupDestroy:this.onPopupDestroy.bind(this)};this.popup=new t.PopupWindow(this.getId(),s.bindElement,s)}this.popup.setContent(this.render(n));return this.popup}},{key:"open",value:function e(t){var i=this.getPopup(t);if(!i.isShown()){i.show()}}},{key:"render",value:function e(t){if(!this.container){this.container=i.Tag.render(h());var n='<svg xmlns="http://www.w3.org/2000/svg" width="42" height="13" viewBox="0 0 42 13">\n'+'  <polyline fill="none" stroke="#CACDD1" stroke-width="2" points="274 98 284 78.614 274 59" transform="rotate(90 186 -86.5)" stroke-linecap="round" stroke-linejoin="round"/>\n'+"</svg>\n";this.topScrollButton=i.Tag.render(d(),n);this.bottomScrollButton=i.Tag.render(c(),n);this.container.appendChild(this.topScrollButton);this.container.appendChild(this.bottomScrollButton);this.container.appendChild(this.renderList(t))}return this.container}},{key:"renderList",value:function e(t){var n=this;if(!this.containerList){this.containerList=i.Tag.render(u());this.items.forEach(function(e){n.containerList.appendChild(n.renderItem(e,t))})}return this.containerList}},{key:"renderItem",value:function e(t,n){var s=this;return i.Tag.render(l(),function(){s.onItemClick(t,n)},t.title,t.description)}},{key:"onItemClick",value:function e(t,n){if(i.Type.isFunction(n)){n(t.name)}this.getPopup().close()}},{key:"onPopupShow",value:function e(){i.Event.bind(this.bottomScrollButton,"mouseover",this.onBottomButtonMouseOver.bind(this));i.Event.bind(this.bottomScrollButton,"mouseout",this.onBottomButtonMouseOut.bind(this));i.Event.bind(this.topScrollButton,"mouseover",this.onTopButtonMouseOver.bind(this));i.Event.bind(this.topScrollButton,"mouseout",this.onTopButtonMouseOut.bind(this));i.Event.bind(this.containerList,"scroll",this.onScroll.bind(this));window.setTimeout(this.adjust.bind(this),100)}},{key:"onPopupDestroy",value:function e(){i.Event.unbind(this.bottomScrollButton,"mouseover",this.onBottomButtonMouseOver.bind(this));i.Event.unbind(this.bottomScrollButton,"mouseout",this.onBottomButtonMouseOut.bind(this));i.Event.unbind(this.topScrollButton,"mouseover",this.onTopButtonMouseOver.bind(this));i.Event.unbind(this.topScrollButton,"mouseout",this.onTopButtonMouseOut.bind(this));i.Event.unbind(this.containerList,"scroll",this.onScroll.bind(this));this.container=null;this.containerList=null;this.topScrollButton=null;this.bottomScrollButton=null;this.popup=null}},{key:"onBottomButtonMouseOver",value:function e(){if(this._enableScrollToBottom){return}this._enableScrollToBottom=true;this._enableScrollToTop=false;(function e(){if(!this._enableScrollToBottom){return}if(this.containerList.scrollTop+this.containerList.offsetHeight!==this.containerList.scrollHeight){this.containerList.scrollTop+=3}if(this.containerList.scrollTop+this.containerList.offsetHeight===this.containerList.scrollHeight){this._enableScrollToBottom=false}else{window.setTimeout(e.bind(this),20)}}).bind(this)()}},{key:"onBottomButtonMouseOut",value:function e(){this._enableScrollToBottom=false}},{key:"onTopButtonMouseOver",value:function e(){if(this._enableScrollToTop){return}this._enableScrollToBottom=false;this._enableScrollToTop=true;(function e(){if(!this._enableScrollToTop){return}if(this.containerList.scrollTop>0){this.containerList.scrollTop-=3}if(this.containerList.scrollTop===0){this._enableScrollToTop=false}else{window.setTimeout(e.bind(this),20)}}).bind(this)()}},{key:"onTopButtonMouseOut",value:function e(){this._enableScrollToTop=false}},{key:"onScroll",value:function e(){this.adjust()}},{key:"adjust",value:function e(){var t=this.containerList.offsetHeight;var i=this.containerList.scrollTop;var n=this.containerList.scrollHeight;if(i===0){this.topScrollButton.classList.add("hidden")}else{this.topScrollButton.classList.remove("hidden")}if(i+t===n){this.bottomScrollButton.classList.add("hidden")}else{this.bottomScrollButton.classList.remove("hidden")}}}],[{key:"getDefaultPopupOptions",value:function e(){return{autoHide:true,draggable:false,offsetLeft:0,offsetTop:0,noAllPaddings:true,bindOptions:{forceBindPosition:true},closeByEsc:true,cacheable:false}}}]);return e}();var p=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;babelHelpers.classCallCheck(this,e);this.value=t}babelHelpers.createClass(e,[{key:"setNode",value:function e(t){this.node=t}},{key:"getNode",value:function e(){return this.node}},{key:"getInput",value:function e(){var t=this.getNode();if(!t){return null}if(t instanceof HTMLInputElement){return t}return t.querySelector("input")}},{key:"getValue",value:function e(){var t=this.getInput();if(t&&t.value){return t.value}return this.value||""}}]);return e}();var g=function(){function e(t){babelHelpers.classCallCheck(this,e);this.data=t}babelHelpers.createClass(e,[{key:"getId",value:function e(){return i.Text.toInteger(this.data.ID)}},{key:"getData",value:function e(){return this.data}},{key:"getName",value:function e(){return this.data.FIELD}},{key:"getTypeId",value:function e(){return this.data.USER_TYPE_ID}},{key:"getEnumeration",value:function e(){if(!i.Type.isArray(this.data.ENUM)){this.data.ENUM=[]}return this.data.ENUM}},{key:"saveEnumeration",value:function e(t){var i=this;this.data.ENUM=[];var n=100;t.forEach(function(e){i.data.ENUM.push({VALUE:e.getValue(),SORT:n});n+=100})}},{key:"getTitle",value:function t(){var n=e.getTitleFields();var s=n.length;for(var o=0;o<s;o++){if(i.Type.isString(this.data[n[o]])&&this.data[n[o]].length>0){return this.data[n[o]]}}return this.getName()}},{key:"setTitle",value:function t(n){var o=this;if(i.Type.isString(n)&&n.length>0){e.getTitleFields().forEach(function(e){o.data[e]=n});if(this.getTypeId()===s.boolean){this.data.SETTINGS.LABEL_CHECKBOX=n}}}},{key:"isSaved",value:function e(){return this.getId()>0}},{key:"isShowAlways",value:function e(){return this.data.IS_SHOW_ALWAYS==="Y"}},{key:"setIsShowAlways",value:function e(t){this.data.IS_SHOW_ALWAYS=i.Text.toBoolean(t)===true?"Y":"N"}},{key:"isMultiple",value:function e(){return this.data.MULTIPLE==="Y"}},{key:"setIsMultiple",value:function e(t){if(!this.isSaved()){this.data.MULTIPLE=i.Text.toBoolean(t)===true?"Y":"N"}}},{key:"isDateField",value:function e(){return this.getTypeId()===s.datetime||this.getTypeId()===s.date}},{key:"isShowTime",value:function e(){return this.getTypeId()===s.datetime}},{key:"setIsShowTime",value:function e(t){if(!this.isSaved()){t=i.Text.toBoolean(t);if(t){this.data.USER_TYPE_ID=s.datetime}else{this.data.USER_TYPE_ID=s.date}}}}],[{key:"getTitleFields",value:function e(){return Array.from(["EDIT_FORM_LABEL","LIST_COLUMN_LABEL","LIST_FILTER_LABEL"])}}]);return e}();function v(){var e=babelHelpers.taggedTemplateLiteral(['<div>\n\t\t\t<label class="ui-ctl ui-ctl-checkbox ui-ctl-xs">\n\t\t\t\t','\n\t\t\t\t<div class="ui-ctl-label-text">',"</div>\n\t\t\t</label>\n\t\t</div>"]);v=function t(){return e};return e}function T(){var e=babelHelpers.taggedTemplateLiteral(['<input class="ui-ctl-element" type="checkbox">']);T=function t(){return e};return e}function E(){var e=babelHelpers.taggedTemplateLiteral(['<div>\n\t\t\t\t<label class="ui-ctl ui-ctl-checkbox ui-ctl-xs">\n\t\t\t\t\t','\n\t\t\t\t\t<div class="ui-ctl-label-text">',"</div>\n\t\t\t\t</label>\n\t\t\t</div>"]);E=function t(){return e};return e}function b(){var e=babelHelpers.taggedTemplateLiteral(['<input class="ui-ctl-element" type="checkbox">']);b=function t(){return e};return e}function L(){var e=babelHelpers.taggedTemplateLiteral(['<div>\n\t\t\t\t<label class="ui-ctl ui-ctl-checkbox ui-ctl-xs">\n\t\t\t\t\t','\n\t\t\t\t\t<div class="ui-ctl-label-text">',"</div>\n\t\t\t\t</label>\n\t\t\t</div>"]);L=function t(){return e};return e}function m(){var e=babelHelpers.taggedTemplateLiteral(['<input class="ui-ctl-element" type="checkbox">']);m=function t(){return e};return e}function _(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-configurator-block"></div>']);_=function t(){return e};return e}function I(){var e=babelHelpers.taggedTemplateLiteral(['<div style="margin-bottom: 10px;" class="ui-ctl ui-ctl-textbox ui-ctl-w100 ui-ctl-row">\n\t\t\t<input class="ui-ctl-element" type="text" value="','">\n\t\t\t<div class="ui-userfieldfactory-configurator-remove-enum" onclick="','"></div>\n\t\t</div>']);I=function t(){return e};return e}function y(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-configurator-block">\n\t\t\t<div class="ui-userfieldfactory-configurator-title">\n\t\t\t\t<span class="ui-userfieldfactory-configurator-title-text">',"</span>\n\t\t\t</div>\n\t\t\t","\n\t\t\t","\n\t\t</div>"]);y=function t(){return e};return e}function S(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-configurator-block-add-field">\n\t\t\t<span class="ui-userfieldfactory-configurator-add-button" onclick="','">',"</span>\n\t\t</div>"]);S=function t(){return e};return e}function F(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-configurator-block"></div>']);F=function t(){return e};return e}function U(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-configurator-block">\n\t\t\t',"","\n\t\t</div>"]);U=function t(){return e};return e}function C(){var e=babelHelpers.taggedTemplateLiteral(['<span class="ui-btn ui-btn-light-border" onclick="','">',"</span>"]);C=function t(){return e};return e}function k(){var e=babelHelpers.taggedTemplateLiteral(['<span class="ui-btn ui-btn-primary" onclick="','">',"</span>"]);k=function t(){return e};return e}function R(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-configurator-block">\n\t\t\t<div class="ui-userfieldfactory-configurator-title">\n\t\t\t\t<span class="ui-userfieldfactory-configurator-title-text">','</span>\n\t\t\t</div>\n\t\t\t<div class="ui-userfieldfactory-configurator-content">\n\t\t\t\t<div class="ui-ctl ui-ctl-textbox ui-ctl-w100">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>"]);R=function t(){return e};return e}function O(){var e=babelHelpers.taggedTemplateLiteral(['<input class="ui-ctl-element" type="text" value="','" />']);O=function t(){return e};return e}function D(){var e=babelHelpers.taggedTemplateLiteral(['<div class="ui-userfieldfactory-configurator"></div>']);D=function t(){return e};return e}var A=function(){function e(t){babelHelpers.classCallCheck(this,e);if(i.Type.isPlainObject(t)){if(t.field instanceof g){this.field=t.field}if(i.Type.isFunction(t.onSave)){this.onSave=t.onSave}if(i.Type.isFunction(t.onCancel)){this.onCancel=t.onCancel}}this.enumItems=new Set}babelHelpers.createClass(e,[{key:"render",value:function e(){var t=this;this.node=i.Tag.render(D());this.labelInput=i.Tag.render(O(),this.field.getTitle());this.node.appendChild(i.Tag.render(R(),i.Loc.getMessage("UI_USERFIELD_FACTORY_CONFIGURATOR_FIELD_TITLE"),this.labelInput));if(this.field.getTypeId()===s.enumeration){this.node.appendChild(this.renderEnumeration())}this.node.appendChild(this.renderOptions());var n=function e(n){n.preventDefault();if(i.Type.isFunction(t.onSave)){t.onSave(t.saveField())}};var o=function e(n){n.preventDefault();if(i.Type.isFunction(t.onCancel)){t.onCancel()}else{t.node.style.display="none"}};this.saveButton=i.Tag.render(k(),n.bind(this),i.Loc.getMessage("UI_USERFIELD_SAVE"));this.cancelButton=i.Tag.render(C(),o.bind(this),i.Loc.getMessage("UI_USERFIELD_CANCEL"));this.node.appendChild(i.Tag.render(U(),this.saveButton,this.cancelButton));return this.node}},{key:"saveField",value:function e(){if(this.timeCheckbox){this.field.setIsShowTime(this.timeCheckbox.checked)}if(this.showAlwaysCheckbox){this.field.setIsShowAlways(this.showAlwaysCheckbox.checked)}if(this.multipleCheckbox){this.field.setIsMultiple(this.multipleCheckbox.checked)}this.field.setTitle(this.labelInput.value);this.field.saveEnumeration(this.enumItems);return this.field}},{key:"renderEnumeration",value:function e(){var t=this;this.enumItemsContainer=i.Tag.render(F());this.enumAddItemContainer=i.Tag.render(S(),function(){t.addEnumInput().focus()},i.Loc.getMessage("UI_USERFIELD_ADD"));this.enumContainer=i.Tag.render(y(),i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_ENUM_ITEMS"),this.enumItemsContainer,this.enumAddItemContainer);this.field.getEnumeration().forEach(function(e){t.addEnumInput(e)});this.addEnumInput();return this.enumContainer}},{key:"addEnumInput",value:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!(n instanceof p)){if(i.Type.isPlainObject(n)){n=new p(n.VALUE)}else{n=new p}}var s=i.Tag.render(I(),n.getValue(),function(e){e.preventDefault();t.deleteEnumItem(n)});n.setNode(s);this.enumItems.add(n);this.enumItemsContainer.appendChild(s);return s}},{key:"deleteEnumItem",value:function e(t){this.enumItemsContainer.removeChild(t.getNode());this.enumItems.delete(t)}},{key:"renderOptions",value:function e(){this.optionsContainer=i.Tag.render(_());if(!this.field.isSaved()&&this.field.isDateField()){this.timeCheckbox=i.Tag.render(m());this.timeCheckbox.checked=this.field.isShowTime();this.optionsContainer.appendChild(i.Tag.render(L(),this.timeCheckbox,i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_ENABLE_TIME")))}if(!this.field.isSaved()&&this.field.getTypeId()!==s.boolean){this.multipleCheckbox=i.Tag.render(b());this.multipleCheckbox.checked=this.field.isMultiple();this.optionsContainer.appendChild(i.Tag.render(E(),this.multipleCheckbox,i.Loc.getMessage("UI_USERFIELD_FACTORY_FIELD_MULTIPLE")))}this.showAlwaysCheckbox=i.Tag.render(T());this.showAlwaysCheckbox.checked=this.field.isShowAlways();this.optionsContainer.appendChild(i.Tag.render(v(),this.showAlwaysCheckbox,i.Loc.getMessage("UI_USERFIELD_FACTORY_FIELD_SHOW_ALWAYS")));return this.optionsContainer}}]);return e}();var M=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};babelHelpers.classCallCheck(this,e);this.configuratorClass=A;if(i.Type.isString(t)&&t.length>0){this.entityId=t}if(i.Type.isPlainObject(n)){if(i.Type.isString(n.creationSignature)){this.creationSignature=n.creationSignature}if(i.Type.isString(n.menuId)){this.menuId=n.menuId}if(!i.Type.isArray(n.types)){n.types=[]}if(i.Type.isDomNode(n.bindElement)){this.bindElement=n.bindElement}if(i.Type.isObject(n.configuratorClass)&&n.configuratorClass instanceof A){this.configuratorClass=n.configuratorClass}}else{n.types=[]}this.types=e.getFieldTypes().concat(n.types)}babelHelpers.createClass(e,[{key:"getMenu",value:function e(t){if(!i.Type.isPlainObject(t)){t={}}if(!i.Type.isDomNode(t.bindElement)){t.bindElement=this.bindElement}if(!this.menu){this.menu=new f(this.menuId,this.types,t)}return this.menu}},{key:"getConfigurator",value:function e(t){return new this.configuratorClass(t)}},{key:"createField",value:function e(t,s){var o=babelHelpers.objectSpread({},a,r[t],{USER_TYPE_ID:t});if(!i.Type.isString(s)||s.length<=0||s.length>n){s=this.generateFieldName()}o.FIELD=s;o.ENTITY_ID=this.entityId;o.SIGNATURE=this.creationSignature;var l=new g(o);l.setTitle(this.getDefaultLabel(t));i.Event.EventEmitter.emit("UI.UserFieldFactory.Factory.onCreateField",{factory:this,field:l});return l}},{key:"getDefaultLabel",value:function e(t){var n=i.Loc.getMessage("UI_USERFIELD_FACTORY_UF_LABEL");this.types.forEach(function(e){if(e.name===t&&i.Type.isString(e.defaultTitle)){n=e.defaultTitle}});return n}},{key:"generateFieldName",value:function e(){var t="UF_"+(this.entityId?this.entityId+"_":"");var i=(new Date).getTime().toString();if(t.length+i.length>n){i=i.substr(t.length+i.length-n)}t+=i;return t}},{key:"saveField",value:function e(t){var i=this;return new Promise(function(e,n){if(t instanceof g){if(t.isSaved()){BX.Main.UF.EditManager.update({FIELDS:[t.getData()]},function(t){i.onFieldSave(t,e,n)})}else{BX.Main.UF.EditManager.add({FIELDS:[t.getData()]},function(t){i.onFieldSave(t,e,n)})}}else{n(["Wrong parameter: field must be instance of Field"])}})}},{key:"onFieldSave",value:function e(t,n,s){if(i.Type.isPlainObject(t)){if(t.ERROR&&i.Type.isArray(t.ERROR)&&t.ERROR.length>0){s(t.ERROR)}else{var o=this.getFieldDataFromResponse(t);if(o){var a=new g(o);if(i.Type.isFunction(n)){n(a)}i.Event.EventEmitter.emit("UI.UserFieldFactory.Factory.onFieldSave",{factory:this,field:a})}}}else{if(i.Type.isFunction(s)){s(["Error trying save user field settings"])}}}},{key:"getFieldDataFromResponse",value:function e(t){if(i.Type.isPlainObject(t)){var n;Object.keys(t).forEach(function(e){if(i.Type.isPlainObject(t[e]["FIELD"])){n=t[e]["FIELD"]}});return n}return null}}],[{key:"getFieldTypes",value:function e(){var t=[];Object.keys(o).forEach(function(e){t.push(babelHelpers.objectSpread({},o[e],{name:e}))});var n="UI:UserFieldFactory:Factory:OnGetAdditionalUserTypes";var s=[];i.Event.EventEmitter.emit(n,{additionalItems:s});if(i.Type.isArray(s)){s.forEach(function(e){var n=e.name,s=e.title,o=e.description;if(i.Type.isString(n)&&i.Type.isString(s)&&i.Type.isString(o)){t.push({name:n,title:s,description:o})}})}return t}}]);return e}();var B={Factory:M,FieldTypes:s,Field:g,Configurator:A};e.UserFieldFactory=B})(this.BX.UI=this.BX.UI||{},BX,BX);
//# sourceMappingURL=userfieldfactory.bundle.map.js